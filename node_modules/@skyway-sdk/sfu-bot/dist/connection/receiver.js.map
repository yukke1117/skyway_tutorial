{"version":3,"file":"receiver.js","sourceRoot":"","sources":["../../src/connection/receiver.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,+CAA2D;AAC3D,2CAS0B;AAC1B,2CAAsD;AAItD,sCAAmC;AAEnC,kCAAgD;AAIhD,MAAM,GAAG,GAAG,IAAI,eAAM,CAAC,6CAA6C,CAAC,CAAC;AAEtE,MAAa,QAAQ;IAUnB,YACW,YAA8B,EACtB,IAAsB,EACtB,oBAAyC,EAClD,YAA6B,EAC7B,IAAkB,EAClB,WAAuB,EACvB,QAAuB;QANtB,iBAAY,GAAZ,YAAY,CAAkB;QACtB,SAAI,GAAJ,IAAI,CAAkB;QACtB,yBAAoB,GAApB,oBAAoB,CAAqB;QAClD,iBAAY,GAAZ,YAAY,CAAiB;QAC7B,SAAI,GAAJ,IAAI,CAAc;QAClB,gBAAW,GAAX,WAAW,CAAY;QACvB,aAAQ,GAAR,QAAQ,CAAe;QAbzB,cAAS,GAAG,IAAI,sBAAa,EAAE,CAAC;QAChC,qCAAgC,GAE7B,IAAI,CAAC;QACR,yCAAoC,GAAa,EAAE,CAAC;QAW1D,MAAM,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;QACtD,IAAI,gBAAgB,EAAE;YACpB,gBAAgB,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;gBACtD,IACE,KAAK,KAAK,WAAW;oBACrB,IAAI,CAAC,oCAAoC,CAAC,MAAM,GAAG,CAAC,EACpD;oBACA,KAAK,MAAM,UAAU,IAAI,IAAI,CAAC,oCAAoC,EAAE;wBAClE,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,UAAU,EAAE;4BACpD,IAAI,CAAC,qCAAqC,EAAE,CAAC;yBAC9C;qBACF;oBACD,IAAI,CAAC,oCAAoC,GAAG,EAAE,CAAC;iBAChD;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,MAAM;QACJ,OAAO;YACL,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,YAAY,EAAE,IAAI,CAAC,YAAY;SAChC,CAAC;IACJ,CAAC;IAED,0CAA0C;IACpC,OAAO;;;YACX,IAAI,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC;YAChE,IAAI,CAAC,eAAe,EAAE;gBACpB,GAAG,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;gBACrC,eAAe,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC;oBACnD,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;oBACnB,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;oBAC9C,mBAAmB,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAO,CAAC,EAAE;iBAC9D,CAAC,CAAC;gBACH,GAAG,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;gBAEnC,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE;oBACtE,MAAM,IAAA,kBAAW,EAAC;wBAChB,aAAa,EAAE,kBAAkB;wBACjC,OAAO,EAAE,IAAI,CAAC,QAAQ;wBACtB,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO;wBAClC,IAAI,kCAAO,eAAM,CAAC,QAAQ,KAAE,MAAM,EAAE,uBAAuB,GAAE;wBAC7D,IAAI,EAAE,GAAG,CAAC,MAAM;wBAChB,KAAK,EAAE,CAAC;qBACT,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;aACJ;YAED,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB;gBACtD,CAAC,CAAC,IAAA,4BAAqB,EACnB,IAAI,CAAC,YAAY,CAAC,iBAAiB,EACnC,MAAA,MAAA,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,0CAAE,SAAS,mCAAI,EAAE,CACtD;gBACH,CAAC,CAAC,SAAS,CAAC;YAEd,GAAG,CAAC,KAAK,CAAC,wBAAwB,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;YAEzE,MAAM,EAAE,eAAe,EAAE,gBAAgB,EAAE,WAAW,EAAE,UAAU,EAAE,GAClE,MAAM,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC;gBAC7B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;gBACnB,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;gBAC9C,eAAe;gBACf,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE;gBACpC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE;gBAC7C,YAAY;gBACZ,mBAAmB,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAO,CAAC,EAAE;aAC9D,CAAC,CAAC;YACL,IAAI,gBAAgB,EAAE;gBACpB,IAAI,CAAC,oBAAoB,CAAC,eAAe,CACvC,IAAI,CAAC,YAAY,CAAC,EAAE,EACpB,IAAI,CAAC,IAAI,EACT,gBAAuB,EACvB,MAAM,EACN,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,YAAY,CAAC,UAAU,CAC7B,CAAC;aACH;YAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,YAAY,CACrD,IAAI,CAAC,YAAY,CAAC,EAAE,EACpB,WAAW,CACZ,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACnB,GAAG,CAAC,IAAI,CAAC,mCAAmC,EAAE,EAAE,WAAW,EAAE,CAAC,CAAC;gBAC/D,MAAM,IAAI,CAAC,oBAAoB,CAAC,kBAAkB;qBAC/C,KAAK,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;qBACpE,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE;oBACX,MAAM,IAAA,kBAAW,EAAC;wBAChB,aAAa,EAAE,kBAAkB;wBACjC,OAAO,EAAE,IAAI,CAAC,QAAQ;wBACtB,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO;wBAClC,IAAI,kCACC,eAAM,CAAC,OAAO,KACjB,MAAM,EAAE,iCAAiC,GAC1C;wBACD,IAAI,EAAE,GAAG,CAAC,MAAM;wBAChB,KAAK,EAAE,CAAC;wBACR,OAAO,EAAE;4BACP,gBAAgB;4BAChB,WAAW;4BACX,UAAU;4BACV,eAAe;4BACf,YAAY,EAAE,IAAI,CAAC,YAAY;yBAChC;qBACF,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;gBACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,YAAY,CACrD,IAAI,CAAC,YAAY,CAAC,EAAE,EACpB,WAAW,CACZ,CAAC;aACH;YAED,IACE,IAAI,CAAC,YAAY,CAAC,UAAU;gBAC5B,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,QAAQ,EAAE,EACxC;gBACA,8BAA8B;gBAC9B,KAAK,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,0CAA0C,CACjF;oBACE,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE;oBACpC,IAAI,EAAE,UAAU;oBAChB,mBAAmB,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE;iBACvC,CACF,CAAC;aACH;YAED,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;YAElC,GAAG,CAAC,KAAK,CAAC,iBAAiB,EAAE;gBAC3B,eAAe;gBACf,YAAY,EAAE,IAAI,CAAC,YAAY;aAChC,CAAC,CAAC;YACH,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,WAAW;iBAC9C,OAAO,iCACH,eAAe,KAClB,UAAU,IACV;iBACD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE;gBACX,MAAM,IAAA,kBAAW,EAAC;oBAChB,aAAa,EAAE,kBAAkB;oBACjC,OAAO,EAAE,IAAI,CAAC,QAAQ;oBACtB,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO;oBAClC,IAAI,kCACC,eAAM,CAAC,QAAQ,KAClB,MAAM,EAAE,qDAAqD,GAC9D;oBACD,IAAI,EAAE,GAAG,CAAC,MAAM;oBAChB,KAAK,EAAE,CAAC;iBACT,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YACL,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,GAAG,CAAC,KAAK,CAAC,eAAe,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;YAEhE,MAAM,CAAC,aAAa,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;YAEtD,MAAM,MAAM,GAAG,IAAA,yBAAkB,EAAC,IAAA,aAAM,GAAE,EAAE,QAAQ,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;YAC3E,MAAM,KAAK,GAAG;gBACZ,QAAQ,EAAE,aAAa,CAAC,QAAQ;gBAChC,UAAU,EAAE,aAAa,CAAC,UAAU;aACrC,CAAC;YACF,IAAI,CAAC,8BAA8B,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAEtD,MAAM,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;YACtD,IAAI,gBAAgB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,EAAE;gBACpD,IAAI,gBAAgB,CAAC,MAAM,CAAC,uBAAuB,EAAE,EAAE;oBACrD,IAAI,CAAC,qCAAqC,EAAE,CAAC;iBAC9C;qBAAM;oBACL,uCAAuC;oBACvC,IAAI,CAAC,oCAAoC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;iBAC7D;aACF;YAED,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;;KAC1B;IAEO,8BAA8B,CACpC,MAAoB,EACpB,QAAkB;QAElB,MAAM,SAAS,GAAG,IAAI,CAAC,SAAU,CAAC;QAClC,MAAM,EAAE,GAAG,IAAI,CAAC,EAAG,CAAC;QAEpB,MAAM,CAAC,aAAa,GAAG,GAAG,EAAE,CAAC,CAAC;YAC5B,iBAAiB,EAAE,EAAE;YACrB,eAAe,EAAE,SAAS,CAAC,eAAe;YAC1C,IAAI,EAAE,IAAI;SACX,CAAC,CAAC;QACH,MAAM,CAAC,SAAS,GAAG,GAAS,EAAE;YAC5B,MAAM,KAAK,GAAG,MAAM,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACxC,IAAI,GAAG,GAAG,IAAA,mBAAY,EAAC,KAAK,CAAC,CAAC;YAC9B,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;gBACtB,KAAK,CAAC,gBAAgB,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC;gBACvC,OAAO,KAAK,CAAC;YACf,CAAC,CAAC,CAAC;YACH,OAAO,GAAG,CAAC;QACb,CAAC,CAAA,CAAC;QACF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE;YACvB,MAAM,CAAC,aAAa,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC;QACzC,CAAC,CAAC,CAAC;QACH,SAAS,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;YAC/C,GAAG,CAAC,KAAK,CAAC,oCAAoC,EAAE,SAAS,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACrE,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS;QACP,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,GAAG,CAAC,KAAK,CAAC,sCAAsC,EAAE;gBAChD,YAAY,EAAE,IAAI,CAAC,YAAY;aAChC,CAAC,CAAC;YACH,OAAO;SACR;QAED,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;QAE1B,IAAI,IAAI,CAAC,gCAAgC,EAAE;YACzC,aAAa,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;SACtD;IACH,CAAC;IAED,KAAK;QACH,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,IAAI,EAAE;;QACJ,OAAO,MAAA,IAAI,CAAC,SAAS,0CAAE,EAAE,CAAC;IAC5B,CAAC;IAEO,qCAAqC;QAC3C,MAAM,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;QACtD,IAAI,gBAAgB,EAAE;YACpB,MAAM,WAAW,GAAG,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;YAC7D,IAAI,CAAC,gCAAgC,GAAG,WAAW,CAAC,GAAS,EAAE;gBAC7D,uCAAuC;gBACvC,IAAI,CAAC,gBAAgB,IAAI,gBAAgB,CAAC,QAAQ,EAAE,EAAE;oBACpD,IAAI,IAAI,CAAC,gCAAgC,EAAE;wBACzC,aAAa,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;qBACtD;oBACD,OAAO;iBACR;gBACD,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACjB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;oBAC7C,IAAI,KAAK,EAAE;wBACT,8BAA8B;wBAC9B,KAAK,gBAAgB,CAAC,MAAM,CAAC,2BAA2B,CAAC,KAAK,EAAE;4BAC9D,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE;4BACpC,IAAI,EAAE,UAAU;4BAChB,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW;4BAC1C,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;yBACtB,CAAC,CAAC;qBACJ;iBACF;YACH,CAAC,CAAA,EAAE,WAAW,GAAG,IAAI,CAAC,CAAC;SACxB;IACH,CAAC;CACF;AApRD,4BAoRC"}